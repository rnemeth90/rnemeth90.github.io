<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  Azure AD Connect Password Sync &amp;#8211; Disabled and Grayed Out · GeekyRyan
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Ryan Nemeth">
<meta name="description" content="Ran into a problem earlier with the new Azure AD Connect Wizard. We had configured the wizard and synced around 500 AD accounts. However, password sync was not working. I opened the wizard to confirm the configuration and found that “Password Hash Synchronization” was disabled. It was greyed out and could not be enabled.

I called Microsoft and worked for a couple hours with a technician to resolve the issue. Thought I should post the resolution here in case anyone else encounters this.">
<meta name="keywords" content="blog,developer,personal,devops">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Azure AD Connect Password Sync &#8211; Disabled and Grayed Out">
  <meta name="twitter:description" content="Ran into a problem earlier with the new Azure AD Connect Wizard. We had configured the wizard and synced around 500 AD accounts. However, password sync was not working. I opened the wizard to confirm the configuration and found that “Password Hash Synchronization” was disabled. It was greyed out and could not be enabled.
I called Microsoft and worked for a couple hours with a technician to resolve the issue. Thought I should post the resolution here in case anyone else encounters this.">

<meta property="og:url" content="http://localhost:1313/posts/2015-10-15-azure-ad-connect-password-sync-disabled/">
  <meta property="og:site_name" content="GeekyRyan">
  <meta property="og:title" content="Azure AD Connect Password Sync &#8211; Disabled and Grayed Out">
  <meta property="og:description" content="Ran into a problem earlier with the new Azure AD Connect Wizard. We had configured the wizard and synced around 500 AD accounts. However, password sync was not working. I opened the wizard to confirm the configuration and found that “Password Hash Synchronization” was disabled. It was greyed out and could not be enabled.
I called Microsoft and worked for a couple hours with a technician to resolve the issue. Thought I should post the resolution here in case anyone else encounters this.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2015-10-15T10:18:00+00:00">
    <meta property="article:modified_time" content="2015-10-15T10:18:00+00:00">
    <meta property="article:tag" content="Office365">




<link rel="canonical" href="http://localhost:1313/posts/2015-10-15-azure-ad-connect-password-sync-disabled/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.css" media="screen">
  



 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      GeekyRyan
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/til/">TIL</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/projects/">Projects</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/tags/">Tags</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/posts/2015-10-15-azure-ad-connect-password-sync-disabled/">
              Azure AD Connect Password Sync &amp;#8211; Disabled and Grayed Out
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2015-10-15T10:18:00Z">
                2015-10-15
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              2-minute read
            </span>
          </div>
          
          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/uncategorized/">Uncategorized</a></div>

          <div class="tags">
  <i class="fa-solid fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/tags/office365/">Office365</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <p>Ran into a problem earlier with the new Azure AD Connect Wizard. We had configured the wizard and synced around 500 AD accounts. However, password sync was not working. I opened the wizard to confirm the configuration and found that “Password Hash Synchronization” was disabled. It was greyed out and could not be enabled.</p>
<p><a href="https://rnemeth90.github.io/wp-content/uploads/2015/10/2015-10-15_08h43_18.jpg"  class="external-link" target="_blank" rel="noopener"><img src="https://rnemeth90.github.io/wp-content/uploads/2015/10/2015-10-15_08h43_18.jpg" alt=""></a></p>
<p>I called Microsoft and worked for a couple hours with a technician to resolve the issue. Thought I should post the resolution here in case anyone else encounters this.</p>
<p>You can enable password sync by running the following script:</p>
<p>Import-Module ADSync</p>
<p>$adConnector = “&lt;Local AD Connector Name&gt;”</p>
<p>$aadConnector = “&lt;Azure AD Connector Name&gt;”</p>
<p>Set-ADSyncAADPasswordSyncState -ConnectorName $aadConnector –Enable $true</p>
<p>Set-ADSyncAADPasswordSyncConfiguration -SourceConnector $adConnector -TargetConnector $aadConnector -Enable $true</p>
<p>get-ADSyncAADPasswordSyncConfiguration -sourceconnector $adConnector</p>
<p>You need to set the value of the $adConnector and $aadConnector variables with the names of your Connectors found in the MIISClient.</p>
<p>Open the MIISClient by browsing to:</p>
<p><a href="https://rnemeth90.github.io/wp-content/uploads/2015/10/2015-10-15_09h39_42.jpg"  class="external-link" target="_blank" rel="noopener"><img src="https://rnemeth90.github.io/wp-content/uploads/2015/10/2015-10-15_09h39_42.jpg" alt=""></a></p>
<p>Right click on MIISClient.exe and click “Run As Administrator”.</p>
<p>You can obtain the names of your connectors in by going to the Connectors tab and looking at the Names column. There are two values here that you need to pay attention to. The Windows Azure Active Directory connector is your Azure Connector (obviously), and the other connector is your on-prem connector.</p>
<p><a href="https://rnemeth90.github.io/wp-content/uploads/2015/10/2015-10-15_09h39_31.jpg"  class="external-link" target="_blank" rel="noopener"><img src="https://rnemeth90.github.io/wp-content/uploads/2015/10/2015-10-15_09h39_31.jpg" alt=""></a></p>
<p>Now that you have the names, just plug them into the script and run it. You can go back to the Azure AD Connect Wizard and verify that password sync is enabled. You can also go to the Event Viewer -&gt; Application log and look for events 576 and 577. These two events are related to password sync and should show you all AD accounts that have successfully synced passwords.</p>
<p>You can force a sync by going to this location and running “DirectorySyncClientCmd.exe”.</p>
<p><a href="https://rnemeth90.github.io/wp-content/uploads/2015/10/2015-10-15_10h21_12.jpg"  class="external-link" target="_blank" rel="noopener"><img src="https://rnemeth90.github.io/wp-content/uploads/2015/10/2015-10-15_10h21_12.jpg" alt=""></a></p>

      </div>


      <footer>
        


        
        
        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
      2012 -
    
    2025
     Ryan Nemeth 
    ·
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
