<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Kubernetes on GeekyRyan</title>
    <link>http://localhost:1313/categories/kubernetes/</link>
    <description>Recent content in Kubernetes on GeekyRyan</description>
    <generator>Hugo</generator>
    <language>en</language>
    <lastBuildDate>Thu, 05 Dec 2024 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/categories/kubernetes/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Kubernetes Health Probing in Dotnet Console Apps</title>
      <link>http://localhost:1313/posts/2024-12-05-dotnet-console-app-health-probe/</link>
      <pubDate>Thu, 05 Dec 2024 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/posts/2024-12-05-dotnet-console-app-health-probe/</guid>
      <description>&lt;h1 id=&#34;introduction&#34;&gt;Introduction&lt;/h1&gt;&#xA;&lt;p&gt;This post covers a simple and efficient solution for implementing liveness probes in pods running console applications (think background services or utility DaemonSets). A common question I see in Kubernetes forums is:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;“How do I use health probes with console apps?”&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;The typical responses often suggest:&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Sidecar Container with HTTP Server: Requires coding the server, building a sidecar container, and managing additional infrastructure. While effective, this can be overkill for lightweight applications.&lt;/li&gt;&#xA;&lt;li&gt;Exec Probes with Shell Scripts: Feels hacky and can waste resources, depending on what the script does.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;Pods are meant to be lightweight, and both solutions can deviate from that principle.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Mounting Multiple Kubernetes Secrets into One Directory</title>
      <link>http://localhost:1313/posts/2024-06-29-mount-multiple-kubernetes-secrets-into-one-directory/</link>
      <pubDate>Sat, 29 Jun 2024 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/posts/2024-06-29-mount-multiple-kubernetes-secrets-into-one-directory/</guid>
      <description>&lt;h1 id=&#34;introduction&#34;&gt;Introduction&lt;/h1&gt;&#xA;&lt;p&gt;Combining multiple Kubernetes secrets into a single directory can streamline secret management in your applications. This guide walks you through the process of achieving this in Kubernetes, ensuring efficient and organized secret management.&lt;/p&gt;&#xA;&lt;h1 id=&#34;creating-secrets&#34;&gt;Creating Secrets&lt;/h1&gt;&#xA;&lt;p&gt;First, create your secrets using the &lt;code&gt;kubectl create secret&lt;/code&gt; command:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;kubectl create secret generic secret-one --from-literal=key1=value1&#xA;kubectl create secret generic secret-two --from-literal=key2=value2&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Each secret can contain multiple key-value pairs, and you can add more secrets as needed.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Handling Graceful Shutdown in a .NET App Hosted in Kubernetes</title>
      <link>http://localhost:1313/posts/2022-12-28-graceful-shutdown-in-kubernetes-dotnet-pod/</link>
      <pubDate>Wed, 28 Dec 2022 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/posts/2022-12-28-graceful-shutdown-in-kubernetes-dotnet-pod/</guid>
      <description>&lt;p&gt;I was recently involved with troubleshooting some API&amp;rsquo;s hosted in Kubernetes throwing http/502&amp;rsquo;s. This was incredibly difficult to diagnose because it seemingly happened at random, and I had never encountered anything like this. Being that I had never dealt with this in the past, and I (nor my team) was able to figure it out within a reasonable amount of time, I turned to google. My searches resulted in various blogs and SO posts of other people experiencing similar issues, but none of their resolutions worked for us. It was actually a combination of these blogs (and the resolutions posted) that ended up resolving our issue.&lt;/p&gt;</description>
    </item>
    <item>
      <title>AKS Scale Down Mode</title>
      <link>http://localhost:1313/posts/2022-07-19-aks-scale-down-mode/</link>
      <pubDate>Tue, 19 Jul 2022 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/posts/2022-07-19-aks-scale-down-mode/</guid>
      <description>&lt;p&gt;By default, scale-out operations performed manually or by cluster autoscale rules require the allocation and provisioning of new nodes, and scale-in operations delete nodes. Scale-down mode is a relatively newer concept that allows us to choose whether to delete &lt;em&gt;or&lt;/em&gt; deallocate nodes.&lt;/p&gt;&#xA;&lt;p&gt;Having the ability to deallocate, rather than delete, nodes is a major performance benefit, as the time it takes to spin up new nodes will be significantly decreased. You will not be charged when nodes are deallocated. However, you will still need to pay for any storage that the node is using. Having persistent storage also means that any container images that were cached on the node will still be there when the node starts back up. This can be a major performance benefit if you are using Windows containers because the images for these containers are typically very large.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Scheduled Kubernetes Worker Node Maintenance with Kured</title>
      <link>http://localhost:1313/posts/2022-07-15-scheduled-kubernetes-worker-node-maintenance-with-kured/</link>
      <pubDate>Fri, 15 Jul 2022 18:18:50 +0000</pubDate>
      <guid>http://localhost:1313/posts/2022-07-15-scheduled-kubernetes-worker-node-maintenance-with-kured/</guid>
      <description>&lt;p&gt;If you manage Linux nodes, you know how vital performing regular maintenance is. Installing software patches that modify Linux kernel headers requires a reboot. Normally, as in the past, we would cordon and drain the node and then manually reboot, wait for it to come back online, verify its health, and add it back to the cluster. That’s a lot of manual work! How can we automate this?&lt;/p&gt;&#xA;&lt;p&gt;Weaveworks created a great tool for simplifying these steps: Kured (the &lt;em&gt;&lt;strong&gt;Ku&lt;/strong&gt;bernetes &lt;strong&gt;Re&lt;/strong&gt;boot &lt;strong&gt;D&lt;/strong&gt;aemon&lt;/em&gt;). Let’s start by deploying Kured to our cluster.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Running Docker in WSL v1</title>
      <link>http://localhost:1313/posts/2022-06-26-running-docker-in-wsl-v1/</link>
      <pubDate>Sun, 26 Jun 2022 15:00:28 +0000</pubDate>
      <guid>http://localhost:1313/posts/2022-06-26-running-docker-in-wsl-v1/</guid>
      <description>&lt;p&gt;I have somewhat of a niche issue, where I have no network connectivity while connecting to my work VPN inside of WSL v2. I have found others complaining about this issue on Github. Though no one seems to know how to fix it and I have not had the time to properly investigate.&lt;/p&gt;&#xA;&lt;p&gt;Because of this, I’m required to continue using WSL v1. Though, with WSL v1, Docker does not work. I receive this nice message:&lt;/p&gt;</description>
    </item>
    <item>
      <title>Remove Kubernetes Namespace Stuck in the Terminating State</title>
      <link>http://localhost:1313/posts/2022-06-04-remove-kubernetes-namespace-stuck-in-the-terminating-state/</link>
      <pubDate>Sat, 04 Jun 2022 18:29:41 +0000</pubDate>
      <guid>http://localhost:1313/posts/2022-06-04-remove-kubernetes-namespace-stuck-in-the-terminating-state/</guid>
      <description>&lt;p&gt;In this post, we will discuss how to remove a Kubernetes namespace that is stuck in the ‘terminating’ state.&lt;/p&gt;&#xA;&lt;p&gt;A namespace is like a container. You can use it to store related objects in a Kubernetes environment. Maybe you are hosting a blog in Kubernetes. This blog will likely have a database, a frontend website, a load balancer (service) to spread the incoming traffic among ‘x’ number of frontend containers (pods), and maybe some middle-tier or utility applications. One day, you decide you no longer want this blog, so you plan to delete it. Rather than tediously deleting all of the various entities associated with this blog, you can delete the namespace that contains these entities. This will essentially ‘cascade delete’ the resources within the namespace as well.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Kubernetes Storage Simplified</title>
      <link>http://localhost:1313/posts/2022-03-01-kubernetes-storage-simplified/</link>
      <pubDate>Tue, 01 Mar 2022 08:37:58 +0000</pubDate>
      <guid>http://localhost:1313/posts/2022-03-01-kubernetes-storage-simplified/</guid>
      <description>&lt;p&gt;In this blog post, we will attempt to explain the current storage options that exist in Kubernetes. If you are new to Kubernetes, learning about its capabilities of managing the application state can be a daunting task.&lt;/p&gt;&#xA;&lt;p&gt;Container images are built-in layers, with the runtime layer being writable. However, any files on this writable layer are only available for the container’s lifetime. We can mount a volume to a directory inside the container to have persistent data.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Kubernetes Pod Eviction</title>
      <link>http://localhost:1313/posts/2022-02-05-kubernetes-pod-eviction/</link>
      <pubDate>Sat, 05 Feb 2022 23:49:16 +0000</pubDate>
      <guid>http://localhost:1313/posts/2022-02-05-kubernetes-pod-eviction/</guid>
      <description>&lt;p&gt;In this article, we will dive into the process of pod eviction in a Kubernetes cluster, how you can pod prevent pod eviction, and how you can recover from such a situation.&lt;/p&gt;&#xA;&lt;h2 id=&#34;what-is-pod-eviction&#34;&gt;What is Pod Eviction?&lt;/h2&gt;&#xA;&lt;p&gt;Kubernetes pod eviction is a type of involuntary service disruption in which a pod is forcefully stopped on a node or fails to be scheduled on a node. Pod eviction can happen for a variety of reasons. The most common of which is resource starvation on a node. This is referred to as “node-pressure eviction.”&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
